# vistool

`vistool` helps you explore optimization concepts and model behavior
with a consistent R6 API. Use it to:

- visualize regression and classification loss functions;
- inspect one- and two-dimensional objectives, including custom
  definitions;
- follow optimization traces for gradient descent, momentum, and
  Nesterov variants;
- compare model prediction surfaces and decision boundaries.

Every visualizer follows a three-step workflow: initialize with
[`as_visualizer()`](https://slds-lmu.github.io/vistool/reference/as_visualizer.md),
add optional layers, then render via
[`plot()`](https://rdrr.io/r/graphics/plot.default.html) (and optionally
[`save()`](https://rdrr.io/r/base/save.html)).

## Example

``` r
library(vistool)

objective = obj("TF_GoldsteinPriceLog")
vis = as_visualizer(objective)
opt = OptimizerGD$new(objective, x_start = c(0.22, 0.77), lr = 0.01)
opt$optimize(10L)
#> TF_GoldsteinPriceLog: Batch 1 step 1: f(x) = 0.9158, x = c(0.219, 0.7186)
#> TF_GoldsteinPriceLog: Batch 1 step 2: f(x) = 0.4217, x = c(0.211, 0.6549)
#> TF_GoldsteinPriceLog: Batch 1 step 3: f(x) = -0.6741, x = c(0.1844, 0.5649)
#> TF_GoldsteinPriceLog: Batch 1 step 4: f(x) = -0.9819, x = c(0.2182, 0.5224)
#> TF_GoldsteinPriceLog: Batch 1 step 5: f(x) = -0.9876, x = c(0.2992, 0.5105)
#> TF_GoldsteinPriceLog: Batch 1 step 6: f(x) = -1.1018, x = c(0.2625, 0.3598)
#> TF_GoldsteinPriceLog: Batch 1 step 7: f(x) = -2.168, x = c(0.3405, 0.4107)
#> TF_GoldsteinPriceLog: Batch 1 step 8: f(x) = -2.1246, x = c(0.3448, 0.3898)
#> TF_GoldsteinPriceLog: Batch 1 step 9: f(x) = -1.3408, x = c(0.4093, 0.4614)
#> TF_GoldsteinPriceLog: Batch 1 step 10: f(x) = -2.1225, x = c(0.3729, 0.3911)
vis$add_optimization_trace(opt, name = "GD")
vis$plot()
```

![](reference/figures/README-quick-start-1.png)

## Installation

You can install the development version from GitHub with
[`pak`](https://pak.r-lib.org/):

``` r
# install.packages("pak")
pak::pak("slds-lmu/vistool")
```

Prefer base R tooling? `remotes::install_github("slds-lmu/vistool")`
works as well.

## Exporting interactive surface plots

When you call [`save()`](https://rdrr.io/r/base/save.html) with an image
extension, `vistool` writes a self-contained HTML snapshot, captures it
through `webshot2` (ensure Chrome/Chromium is available), and trims the
result with `magick`. You can also call
[`save()`](https://rdrr.io/r/base/save.html) with `.html` to persist the
interactive widget directly.

## Documentation roadmap

- [Loss
  functions](https://slds-lmu.github.io/vistool/articles/loss_functions.html)
  – Open when you need to compare predefined and custom regression or
  classification losses side by side.
- [Model
  predictions](https://slds-lmu.github.io/vistool/articles/model.html) –
  Visit to inspect 1D/2D mlr3 learners, add boundaries, and overlay
  training data.
- [Objective
  functions](https://slds-lmu.github.io/vistool/articles/objective.html)
  – Read when you explore built-in objectives, define custom ones, or
  visualize evaluation archives.
- [Optimization &
  traces](https://slds-lmu.github.io/vistool/articles/optimization_traces.html)
  – Use to understand optimizers, step size control, and how to display
  optimization progress.
- [Customization
  guide](https://slds-lmu.github.io/vistool/articles/customization_guide.html)
  – Start here when you want to tweak themes, colors, and styling
  precedence.
- [Advanced
  visualization](https://slds-lmu.github.io/vistool/articles/advanced_visualization.html)
  – Open for surface overlays, manual plot augmentations, and animation
  workflows.

## Contributing

For anyone interested in contributing to `vistool`, please see the
[Developer
reference](https://slds-lmu.github.io/vistool/DEVELOPMENT.md).

# Package index

## All functions

- [`hypothesis()`](https://slds-lmu.github.io/vistool/reference/Hypothesis.md)
  : Hypothesis wrapper for functional models

- [`LossFunction`](https://slds-lmu.github.io/vistool/reference/LossFunction.md)
  : Loss function

- [`Objective`](https://slds-lmu.github.io/vistool/reference/Objective.md)
  : Objective function

- [`Optimizer`](https://slds-lmu.github.io/vistool/reference/Optimizer.md)
  : Optimizer class

- [`OptimizerGD`](https://slds-lmu.github.io/vistool/reference/OptimizerGD.md)
  : Gradient descent optimizer

- [`OptimizerMomentum`](https://slds-lmu.github.io/vistool/reference/OptimizerMomentum.md)
  : Momentum optimizer

- [`OptimizerNAG`](https://slds-lmu.github.io/vistool/reference/OptimizerNAG.md)
  : Nesterovs momentum optimizer

- [`OptimizerNR`](https://slds-lmu.github.io/vistool/reference/OptimizerNR.md)
  : Newton-Raphson optimizer

- [`Visualizer`](https://slds-lmu.github.io/vistool/reference/Visualizer.md)
  : Base visualizer class

- [`VisualizerLossFuns`](https://slds-lmu.github.io/vistool/reference/VisualizerLossFuns.md)
  : Visualizer for loss functions

- [`VisualizerModel`](https://slds-lmu.github.io/vistool/reference/VisualizerModel.md)
  : Visualize model (unified 1D/2D)

- [`VisualizerObj`](https://slds-lmu.github.io/vistool/reference/VisualizerObj.md)
  : Visualize objective (unified 1D/2D)

- [`VisualizerSurface`](https://slds-lmu.github.io/vistool/reference/VisualizerSurface.md)
  : Visualize 2D functions as interactive surfaces

- [`VisualizerSurfaceModel`](https://slds-lmu.github.io/vistool/reference/VisualizerSurfaceModel.md)
  : Visualize model as interactive surface

- [`VisualizerSurfaceObj`](https://slds-lmu.github.io/vistool/reference/VisualizerSurfaceObj.md)
  : Visualize objective as interactive surface

- [`as.data.table(`*`<DictionaryLoss>`*`)`](https://slds-lmu.github.io/vistool/reference/as.data.table.DictionaryLoss.md)
  : Convert dictionary to data table

- [`as_visualizer()`](https://slds-lmu.github.io/vistool/reference/as_visualizer.md)
  : Convert to visualizer

- [`assert_step_size_control()`](https://slds-lmu.github.io/vistool/reference/assert_step_size_control.md)
  :

  Assertion for the main signature of a `step_size_controlXX` function.

- [`dict_loss`](https://slds-lmu.github.io/vistool/reference/dict_loss.md)
  : Dictionary of loss functions

- [`dict_objective`](https://slds-lmu.github.io/vistool/reference/dict_objective.md)
  : Objective dictionary

- [`get_continuous_colorscale()`](https://slds-lmu.github.io/vistool/reference/get_continuous_colorscale.md)
  : Get continuous colorscale for surface plots

- [`get_vistool_color()`](https://slds-lmu.github.io/vistool/reference/get_vistool_color.md)
  : Get consistent color from discrete palette

- [`lss()`](https://slds-lmu.github.io/vistool/reference/lss.md) :
  Retrieve loss function

- [`merge_optim_archives()`](https://slds-lmu.github.io/vistool/reference/merge_optim_archives.md)
  : Merge optimization archives

- [`mlr_learners_regr.lm_formula`](https://slds-lmu.github.io/vistool/reference/mlr_learners_regr.lm_formula.md)
  [`LearnerRegrLMFormula`](https://slds-lmu.github.io/vistool/reference/mlr_learners_regr.lm_formula.md)
  : Linear model regression learner with formula

- [`obj()`](https://slds-lmu.github.io/vistool/reference/obj.md) :
  Retrieve objective functions

- [`objective_linear()`](https://slds-lmu.github.io/vistool/reference/objective_linear.md)
  : Linear regression objective

- [`objective_logistic()`](https://slds-lmu.github.io/vistool/reference/objective_logistic.md)
  : Logistic regression objective

- [`objective_transform()`](https://slds-lmu.github.io/vistool/reference/objective_transform.md)
  [`objective_transform_identity()`](https://slds-lmu.github.io/vistool/reference/objective_transform.md)
  [`objective_transform_log()`](https://slds-lmu.github.io/vistool/reference/objective_transform.md)
  : Objective transformations

- [`step_size_control_decay_exp()`](https://slds-lmu.github.io/vistool/reference/step_size_control_decay_exp.md)
  : Conduct exponential decay to adjust the update. See
  https://neptune.ai/blog/how-to-choose-a-learning-rate-scheduler

- [`step_size_control_decay_linear()`](https://slds-lmu.github.io/vistool/reference/step_size_control_decay_linear.md)
  : Conduct linear decay to adjust the update. See
  https://neptune.ai/blog/how-to-choose-a-learning-rate-scheduler

- [`step_size_control_decay_steps()`](https://slds-lmu.github.io/vistool/reference/step_size_control_decay_steps.md)
  : Conduct a step-wise decay to adjust the update. See
  https://neptune.ai/blog/how-to-choose-a-learning-rate-scheduler

- [`step_size_control_decay_time()`](https://slds-lmu.github.io/vistool/reference/step_size_control_decay_time.md)
  : Conduct time decay to adjust the update. See
  https://neptune.ai/blog/how-to-choose-a-learning-rate-scheduler

- [`step_size_control_line_search()`](https://slds-lmu.github.io/vistool/reference/step_size_control_line_search.md)
  : Conduct line search in each iteration to adjust the update.

- [`vistool_theme()`](https://slds-lmu.github.io/vistool/reference/vistool_theme.md)
  : vistool theming utilities

# Articles

### All vignettes

- [Advanced
  visualization](https://slds-lmu.github.io/vistool/articles/advanced_visualization.md):
- [Customization
  guide](https://slds-lmu.github.io/vistool/articles/customization_guide.md):
- [Loss
  functions](https://slds-lmu.github.io/vistool/articles/loss_functions.md):
- [Model
  predictions](https://slds-lmu.github.io/vistool/articles/model.md):
- [Objective
  functions](https://slds-lmu.github.io/vistool/articles/objective.md):
- [Optimization &
  traces](https://slds-lmu.github.io/vistool/articles/optimization_traces.md):
